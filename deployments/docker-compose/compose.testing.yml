name: gfb-test

services:
  app:
    build:
      context: ../../
      dockerfile: build/docker/Dockerfile
      target: testing
    container_name: gfb-test-app
    env_file:
      - ../../.env.testing
    volumes:
      - gfb_test_mod_cache:/go/pkg/mod:Z
      - gfb_test_build_cache:/root/.cache/go-build:Z
      - ../../.:/test:Z

volumes:
  gfb_test_mod_cache:
  gfb_test_build_cache:
